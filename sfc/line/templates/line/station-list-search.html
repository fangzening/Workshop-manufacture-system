{% load static %}
{% include 'manufacturing/include/error-modal-style.html' %}
{% include 'manufacturing/include/add-row-js.html' %}
<link rel="stylesheet" href="{% static 'css/maskconfig/style.css' %}">
 <div id="maxheight">
      <table id="table" class="table table-striped table-advance table-hover table-flex" >
          <tbody>
               <tr id="table-header" class="table-header">
                    <th style="width: 6%;"><i></i> &nbsp; #</th>
                    <th class="column-th"><i class="icon_profile"></i> &nbsp; Station</th>
                    <th ><i class="icon_check"></i> &nbsp; Template</th>
                    <th class="column-th"><i class="icon_check"></i> &nbsp; Updater</th>
                    <th class="column-th"><i class="icon_check"></i> &nbsp; Update Date</th>
                    <th class="column-th">&nbsp; Edit</th>
                    <th class="column-th"> &nbsp; Rules</th>
                    <th class="column-th"> &nbsp; Delete</th>
                </tr>
                {% if stations %}
                {% for station in stations %}
                <tr id="{{ station.pk }}">
                  <th class="col-xs-1"><p>&nbsp;{{ forloop.counter }}</p></th>
                  <th class="col-xs-3"> <p>{{ station }}</p></th>
                  <th class="col-xs-3"> <p>{{ station.template_id }}</p></th>
                  <th class="col-xs-3"> <p>{{ station.updater }}</p></th>
                  <th class="col-xs-3"> <p>{{ station.update_date }}</p></th>
                  <th class="col-xs-3">
                   <form action= "{% url 'line:station-route-edit' %}" method="GET">
                     <input type="text" hidden name='station_id' value="{{ station }}">
                     <input type="text" hidden name='route_id' value="{{ route_id }}">
                      <button class="icon-text" type="submit"  style="background: none; border: none;"><img style="width: 22px; margin-left: 3px;" src="{% static 'svg/pen.svg' %}" alt="icon">
                      <span>Edit</span>
                      </button>
                    </form>
                  </th>
                  <th class="col-3">
                    <form action= "{% url 'rules:rules' %}" method="GET">
                      <input type="text" hidden name='station' value="{{ station }}">
                      <input type="text" hidden name='route_id' value="{{ route_id }}">
                      <button class="icon-text" type="submit"  style="background: none; border: none;"><img style="width: 22px; margin-left: 3px;" src="{% static 'svg/rules.svg' %}" alt="icon">
                      <span>Rules</span>
                      </button>
                     </form>
                   </th>
                   <th class="col-3">
                    <form action= "">
                      <input type="text" hidden name='station' value="{{ station }}">
                      <input type="text" hidden name='route_id' value="{{ route_id }}">
                      <button class="icon-text" type="submit"  style="background: none; border: none;"><img style="width: 22px; margin-left: 3px;" src="{% static 'svg/delete.svg' %}" alt="icon">
                      <span>Delete</span>
                      </button>
                     </form>
                   </th>
                </tr>
              {% endfor %}
              {% else %}
                 <div id="myModal" class="modal-log">
                     <div class="modal-content"  style="width: 40%;">
                         <span class="close" data-dismiss="modal" style="z-index: 100;">Ã—</span>
                          <div class="warning-modal-body">
                             <p>No related data</p>
                           </div>
                       </div>
                    <button style="display: none;" id="myBtn">Open Modal</button>
                 </div>
             {% endif %}
           </tbody>
      </table>
      {% comment %}<form method="POST" action="" class="table-form">
        {% csrf_token %}
        {{ form.non_field_errors }}
        {{ form.source.errors }}
        {{ form.source }}
         <table id="dataTable" class="table table-striped table-advance table-hover table-flex">
            <tbody>
               <tr>
                  <td style="width: 6%;"><input type="checkbox" name="chk"/></td>
                  <td style="width: 180px;" class="col-3">
                    <select name="template" class="form-control" id="searchID">
                        <option selected="true" value="">All</option>
                         {% if stations %}
                            {% for station in stations %}
                              <option value="{{station}}">{{station}}</option>
                            {% endfor %}
                          {% endif %}
                   </select>
                  </td>
                  <td  style="width: 180px;" class="col-xs-3"><input class="add-row form-control col-3" type="text" name="model" value="{{ user.username}}" required></td>
                  <td class="col-3"><input class="add-row form-control col-3" type="hidden"></td>
                  <td class="col-3"><input class="add-row form-control col-3" type="hidden"></td>
              </tr>
           </tbody>
       </table>
        <div class="mask-btn-container" style="margin-top: 0.5rem;">
          <div class="add-btn"><input class="btn btn-primary" style="border-radius: 5px;" type="button" value="Add Row" onclick="addRow('dataTable')" /></div>
          <div class="add-btn"><input class="btn btn-danger" style="border-radius: 5px;" type="button" value="Delete Row" onclick="deleteRow('dataTable')" /></div>
          <button type="submit" style="background: none; border: none;" class="icon-text ">
          <img  src="{% static 'svg/add-cross.svg' %}" alt="icon"><span style="left: 0;">Save all</span></button>
       </div>
     </form>{% endcomment %}
</div>
{% load static %}
<script src="{% static 'js/maskconfig/update-changes.js' %}"></script>
<script src="{% static 'js/manufacturing/inline.js' %}"></script>
<script src="{% static 'js/line/warning-modal.js' %}"></script>




